<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player's Retreat</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap"
      rel="stylesheet"
    />
</head>
<body onload="buscarDados()">
    <nav class="navbar">
        <div class="logoEspadas">
          <a href="#">
            <img src="https://github.com/nicolas-prates/PI_Forum/blob/main/site/imagens/svgEspadas2.svg?raw=true" alt="Logo da Empresa" />
          </a>
        </div>
        <ul class="menu">
          <li><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Analytics</a></li>
        </ul>
      </nav>

    
</body>
</html>
<script>
    
var data = []
var labels = []

function buscarDados(){
    fetch(`/jogos/buscar`).then(function (resposta) {
      if (resposta.ok) {
        if (resposta.status == 204) {
          console.log("nÃ£o tem jogos");          
        }
        resposta.json().then(function (resposta) {
          console.log("Dados recebidos: ", JSON.stringify(resposta));
            resposta.forEach(jogo => {
                data.push(jogo.contagem)
                labels.push(jogo.nome)
            });
        });
      }
    });
    const config = {
  type: 'bar',
  data: data,
  options: {
    scales: {
      y: {
        beginAtZero: true
      }
    }
  },
};

}
</script>